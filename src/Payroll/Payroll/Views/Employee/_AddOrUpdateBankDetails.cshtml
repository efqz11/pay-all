@model Payroll.Models.Employee

@{
    ViewData["Title"] = "Change employee details";
    Layout = "_LayoutEditor";
    ViewBag.ProgressStep = 5;
    ViewBag.Header = "Bank Details";
    ViewBag.BackAction = Url.Action("AddOrUpdateEmergencyContact", new { id = Model.Id });
}

<form asp-action="AddOrUpdateBankDetails" data-ajax="true" data-ajax-method="POST" data-ajax-update="#change-form-wrapper" data-ajax-success="sendNotification('success', 'Identity and Bank information was saved');" id="employeeDetailsCreateForm" data-ajax-failure="handleModalPostFailure">
    @Html.AntiForgeryToken()
    <input asp-for="Id" type="hidden" />

    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

    <div class="row mb-4">
        <div class="form-group col">
            <label asp-for="BankAccountNumber" class="control-label"></label>
            <input asp-for="BankAccountNumber" class="form-control form-control-lg" />
            <span asp-validation-for="BankAccountNumber" class="text-danger"></span>
        </div>
        <div class="form-group col">
            <label asp-for="BankAccountName" class="control-label"></label>
            <input asp-for="BankAccountName" class="form-control form-control-lg" />
            <span asp-validation-for="BankAccountName" class="text-danger"></span>
        </div>
    </div>
    <div class="row mb-4">

        <div class="form-group col">
            <label asp-for="BankName" class="control-label"></label>
            <input asp-for="BankName" class="form-control form-control-lg" />
            <span asp-validation-for="BankName" class="text-danger"></span>
        </div>
        <div class="col">

            <div class="row">
                <div class="form-group col">
                    <label asp-for="BankSwiftCode" class="control-label"></label>
                    <input asp-for="BankSwiftCode" class="form-control form-control-lg" />
                    <span asp-validation-for="BankSwiftCode" class="text-danger"></span>
                </div>
                <div class="form-group col">
                    <label asp-for="BankIBAN" class="control-label"></label>
                    <input asp-for="BankIBAN" class="form-control form-control-lg" />
                    <span asp-validation-for="BankIBAN" class="text-danger"></span>
                </div>
            </div>
        </div>
    </div>

    <div class="form-group mb-4">
        <label asp-for="BankAddress" class="control-label"></label>
        <textarea asp-for="BankAddress" class="form-control form-control-lg"></textarea>
        <span asp-validation-for="BankAddress" class="text-danger"></span>
    </div>


    <div class="form-actions ajax-spinner formActions-module__spinner___12v5R pt-5 mt-0 border-none text-left">
        <button class="btn btn-lg btn-outline-primary btn-back mr-2" type="button" onclick="$('.modal__btn-back').click()">Back</button>
        <button class="btn btn-lg btn-primary btn-next" type="submit">Save & Close</button>

    </div>

</form>


<script>
    $(".has-datepicker").flatpickr({
        dateFormat: "j-M-Y"
    });
</script>
