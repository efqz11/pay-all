@using System.Collections.Generic
@using System.Linq
@using Microsoft.AspNetCore.Identity


@inject SignInManager<AppUser> SignInManager
@model RegisterViewModel

@{
    ViewBag.Title = "Wecome";
    @* Layout = "_LayoutAccountWelcome"; *@
}
@*
    <link href="~/css/webSetup.css" rel="stylesheet" />
    <style>
        .z-index-1{z-index:1}.z-index-2{z-index:2}@@media (min-width: 992px){.padding-bottom-lg-homepage-80px{padding-bottom:80px}}@@media (min-width: 576px){.custom-height{min-height:876px;height:100%}}@@media (min-width: 768px){.custom-height{min-height:867px}}@@media (min-width: 992px){.custom-height{min-height:947px}}@@media (min-width: 1200px){.custom-height{min-height:887px}}@@media (min-width: 576px){.custom-height-without-lead-form{min-height:476px;height:100%}}@@media (min-width: 768px){.custom-height-without-lead-form{min-height:467px}}@@media (min-width: 992px){.custom-height-without-lead-form{min-height:547px}}@@media (min-width: 1200px){.custom-height-without-lead-form{min-height:487px}}@@media (min-width: 1600px){.custom-height-without-lead-form{min-height:527px}}@@media (min-width: 1900px){.custom-height-without-lead-form{min-height:627px}}.signature-area{position:static;width:100%;bottom:0%;right:20px}@@media (min-width: 576px){.signature-area{width:100%;right:40px}}@@media (min-width: 992px){.signature-area{bottom:0;position:absolute;width:100%;right:40px}}.signature-area #signature-col{transition-delay:900 !important}.signature-area #signature-col>div{margin-bottom:20px}@@media (min-width: 992px){.signature-area #signature-col>div{margin-top:-30px}}@@media (max-width: 575px){.signature-area{padding-top:25vh;background-size:cover;background-position:center center}.signature-area.handlebar-cyclery{background-image:url(/assets/homepage/hp-brand-handlebar-cyclery-mobile-fd3fc5fd09549aa7cfa7ea642311c2ff4f2ef72221dd0933282f106f134563d8.jpg);background-size:cover}.signature-area.stems-brooklyn{background-image:url(/assets/homepage/hp-stems-brooklyn-mobile-b25de4bc5f89af6f8ec24bce2de5733c9d429470fb58b81d50867dca17e7edd6.jpg);background-size:cover}.signature-area.huckleberry-roasters{background-image:url(/assets/homepage/HP_HuckleberryWarehouse_v2@mobile-689bcc8eb87ae6f51e6d614fd10b54cec365bd40851607d90615aeeedeedc802.jpg);background-size:cover}.signature-area.american-canning{background-image:url(/assets/homepage/hp-brand-american-canning-mobile-50b073bc788a08dbca775fd4d3dddee6eef22438bff98cfa5948e8237add5a96.jpg);background-size:cover}.signature-area.hp-referral{background-image:url(/assets/referrals/hp-referral-de8d3ee9b60427d394fbfef285be1ecc7261453a5b67bb2b83d4be87a7d6247c.jpg);background-size:cover}.signature-area.dwg{background-image:url(/assets/invite/dwg-hero-acfbc0786ec65f9427b38c08ddb2b28ce9aab503627e01a685938e5ee6a7a9d8.jpg);background-size:cover auto}}@@media all and (max-width: 575px) and (-webkit-min-device-pixel-ratio: 1.5),all and (max-width: 575px) and (-o-min-device-pixel-ratio: 3/2),all and (max-width: 575px) and (min--moz-device-pixel-ratio: 1.5),all and (max-width: 575px) and (min-device-pixel-ratio: 1.5){.signature-area.dwg{background-image:url(/assets/invite/dwg-hero@2x-8ff273e1429bc44f7b893948279069f50a48480d0911252d70105a89349a19a9.jpg);background-size:cover auto}}.homepage-brand{-o-object-position:top center;object-position:top center}img.podcast-image{opacity:0.5}@@media (min-width: 1200px){.hero-brand h1{font-size:4.5rem;line-height:5.3rem}}@@media (min-width: null){.hero-brand h1{font-size:5.5rem;line-height:5.9rem}}.hero-brand p{font-size:15px}@@media (min-width: 576px){.hero-brand p{font-size:16px}}@@media (min-width: 768px){.homepage{width:700px}}@@media (min-width: 992px){.homepage{top:150px;right:-25%;width:900px}}@@media (min-width: 1200px){.homepage{top:90px;right:-20%;width:1100px}}@@media (min-width: 1600px){.homepage{top:100px;right:20px}}@@media (max-width: 575px){.img-sm-500{width:500px}}@@media (min-width: 576px){.padding-top-sm-70px{padding-top:70px !important}}ul.value-props{color:#919197}ul.value-props li{padding-left:1.3em}ul.list-checkmark>li::before{top:1px}.referral-link-section{background-color:#fbfafa;border-bottom-left-radius:5px;border-bottom-right-radius:5px;position:relative;top:-10px}.referral-link-section input{border:1px solid #919196;border-radius:5px;font-weight:100;height:44px}.referral-link-section .copy-referral-link{font-weight:500;height:0px;position:relative;top:10px}@@media (max-width: 575px){.padding-bottom-none-sm-cta-exp{padding-bottom:0}}.home-hero-cta-experiment .learn-more-link{border-bottom-color:#dcdcdc;font-size:18px;font-size:1.8rem;line-height:26px;font-weight:500}@@media (max-width: 575px){.home-hero-cta-experiment .learn-more-link{border-radius:0}}@@media (min-width: 768px){.home-hero-cta-experiment .learn-more-link{color:#ffffff;font-size:20px;font-size:2rem}}.home-hero-cta-experiment .height-85px{height:85px}@@media (min-width: 576px){.home-hero-cta-experiment .c-white-sm{color:#ffffff}}@@media (min-width: 576px){.home-hero-cta-experiment .text-shadow-sm{text-shadow:0px 1px 4px rgba(0,0,0,0.15)}}@@media (min-width: 992px){.hero--homepage{height:720px}}


    .form-tooltip--container{position:relative}.form-tooltip--wrapper{background:#f3f3f4;border-radius:3px;position:absolute;top:0;width:250px;z-index:1000}.form-tooltip--wrapper__left{left:-260px}.form-tooltip--wrapper__right{right:-260px}.form-tooltip--header{margin:0;background:#e7e7e9;text-align:center;padding:10px 0;font-size:16px}.form-tooltip--content{font-size:14px;padding:20px}.react-checkbox{height:30px}.react-checkbox:first-child{padding:0}.react-checkbox label{display:flex;align-items:center}.react-checkbox label input{margin:0;width:25px}#ee-picklist .form-control{border:none;padding-left:0}#ee-picklist .form-control__control{border:1px solid #eaeaea;height:100%}#ee-picklist .form-control__control--is-focused{border:1px solid #2babad;box-shadow:none}#ee-picklist .form-control__value-container{padding-left:15px}#ee-picklist .form-control__indicator-separator{display:none}#ee-picklist .form-control__menu{text-align:left}.big-desk-cta{text-align:start;padding-left:5px}#displayNone{display:none}#survey-signup-modal{max-height:calc(100vh - 10px);overflow-y:auto}@@media (min-width:576px){#survey-signup-modal h3{font-size:32px;font-size:3.2rem;font-weight:700;line-height:39px;letter-spacing:-.27px}}@@media (min-width:1200px){#survey-signup-modal h3{font-size:42px;font-size:4.2rem;font-weight:700;line-height:48px;letter-spacing:-.275px}}#survey-signup-modal .modal .modal-dialog{max-width:425px}@@media (min-width:576px){#survey-signup-modal .modal .modal-dialog{max-width:500px}}#survey-signup-modal .error-border{border:1px solid #ab2b10}#survey-signup-modal .has-error .error-msg{display:none!important}@@media (min-width:360px){#survey-signup-modal .has-error .error-msg{display:block!important}}#survey-signup-modal .modal .modal-content .processing-screen{min-width:275px}@@media (min-width:576px){#survey-signup-modal .modal .modal-content .processing-screen{min-width:425px}}#survey-signup-modal .modal .modal-content .processing-screen img{width:118px;height:128px}#survey-signup-modal .modal .modal-content .lead-form-info img{width:75%;height:auto}#survey-signup-modal .modal .modal-content .lead-form-info img.small{width:45%}.survey-manager .survey-answer-btn{background:#0a8080;color:#fff!important;text-align:left;border-radius:5px}.survey-manager .survey-answer-btn label{font-weight:300;height:100%;width:100%}.survey-manager .survey-answer-btn:hover{opacity:.9;cursor:pointer}.survey-manager .survey-answer-btn .radio_buttons{opacity:0;position:absolute}.survey-manager .progress-bar-container{height:2px}.survey-manager .progress-bar-container .progress-bar{background:#eaeaea;opacity:1;width:20%;height:100%;margin-right:5px;border-radius:8px}.survey-manager .progress-bar-container .progress-bar.selected{background:#2babad}.survey-manager .progress-bar-label{color:#0a8080}.survey-manager .processing-screen{padding-top:105px;padding-bottom:105px}.survey-manager .processing-screen img{width:118px;height:128px}.survey-manager .question-tooltip{bottom:13px;display:inline-flex;line-height:1}@@media (min-width:1200px){.survey-manager .question-tooltip{bottom:20px}}.survey-manager .question-tooltip:after{border-radius:50%!important;border:1px solid #0a8080;padding-left:6px;padding-right:6px;vertical-align:text-top;color:#0a8080;content:"i";font-size:11px;font-style:normal;font-weight:500;cursor:pointer;width:15px;height:15px;display:inline-flex;justify-content:center;align-items:center}.survey-manager .question-tooltip:hover .tip{z-index:4;transform:translateX(-70%);display:block!important;position:absolute;left:50%;bottom:27px;font-style:normal;width:225px}@@media (min-width:576px){.survey-manager .question-tooltip:hover .tip{width:250px}}.survey-manager .question-tooltip:hover .tip:after{left:50%!important;margin-left:-8px;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid transparent;bottom:-8px;content:"";display:block;height:0;left:15px;position:absolute;width:0}.square-checkbox-container .react-checkbox{background:#fff;color:#0a8080;border-radius:5px;border:2px solid #0a8080;height:60px;margin:12px 0}.square-checkbox-container .react-checkbox:hover{box-shadow:0 4px 6px rgba(0,0,0,.2);cursor:pointer}.square-checkbox-container .react-checkbox label{border:1px solid #dcdcdc;border-radius:4px;padding:0 24px;font-weight:300;height:100%;width:100%;justify-content:center}.square-checkbox-container .react-checkbox label:hover{cursor:pointer;color:#0a8080}.square-checkbox-container .react-checkbox label.selected{background:#0a8080;color:#fff!important;border:none;border-radius:0}.square-checkbox-container .react-checkbox label.selected .label-text{margin:-2px}.square-checkbox-container .react-checkbox input{opacity:0;position:absolute}

    </style>*@



<div class="container relative z-index-2">
    <div class="row">
        <div class="col-12 col-lg-7 col-xl-12 col-xxl-5 col-md-8">
            <div class="">
                <div id="survey-manager">
                    <div class="survey-manager">
                        <div class="text-left step" data-step="1" style="display:none;">
                            <h6 class="text-step pt-2 pt-sm-4">Step 1 of 5</h6>
                                <div class="survey-question">
                                    <h2 class="mb-2">Hello? <small><i aria-hidden="true" class="mb-2 fal fa-info-circle" title="We know COVID-19 has been disruptive. Answer this question as if it’s business as usual"></i></small></h2>

                                    <div class="form-group mt-5">
                                        <div class="square-buttons-container d-block">
                                            <button class="btn btn-primary btn-block text-left pl-4" data-for="INDUSTRY_IDENTIFICATION-office">Let's continue</button>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    @* <button class="btn-link c-kale-500 width-100 col-6 text-left lp-survey-back-link" type="button">Back</button> *@
                                    <button class="btn-link c-kale-500 width-100 col-6 text-right float-right " type="button">Other</button>
                                </div>
                        </div>

                        <div class="text-left step" data-step="2" style="display:none;">
                            <h6 class="text-step pt-2 pt-sm-4">
                                Step 2 of 5
                            </h6>
                                <div class="survey-question">
                                    <h2 class="mb-2">How do you currently run payroll? <small><i aria-hidden="true" class="mb-2 fal fa-info-circle" title="We know COVID-19 has been disruptive. Answer this question as if it’s business as usual"></i></small></h2>

                                    <div class="form-group mt-5">
                                        <div class="square-buttons-container d-block">
                                            <button class="btn btn-primary btn-block text-left pl-4" data-for="INDUSTRY_IDENTIFICATION-office">We’re new to running payroll</button>
                                            <button class="btn btn-primary btn-block text-left pl-4" data-for="INDUSTRY_IDENTIFICATION-office">We use another online payroll software</button>
                                            <button class="btn btn-primary btn-block text-left pl-4" data-for="INDUSTRY_IDENTIFICATION-office">We do it ourselves manually</button>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <button class="btn-link c-kale-500 width-100 col-6 text-left lp-survey-back-link back" type="button">Back</button>
                                    <button class="btn-link c-kale-500 width-100 col-6 text-right float-right" type="button">Other</button>
                                </div>
                        </div>

                        <div class="text-left step" data-step="3" style="display:none;">
                            <h6 class="text-step pt-2 pt-sm-4">
                                Step 3 of 5
                            </h6>
                                <div class="survey-question">
                                    <h2 class="mb-2">How would you describe your business setting? <small><i aria-hidden="true" class="mb-2 fal fa-info-circle" title="We know COVID-19 has been disruptive. Answer this question as if it’s business as usual"></i></small></h2>

                                    <div class="form-group mt-5">
                                        <div class="square-buttons-container d-block">
                                            <button class="btn btn-primary btn-block text-left pl-4" data-for="INDUSTRY_IDENTIFICATION-office">We work in an office</button>
                                            <button class="btn btn-primary btn-block text-left pl-4" data-for="INDUSTRY_IDENTIFICATION-office">We work in retail or food service</button>
                                            <button class="btn btn-primary btn-block text-left pl-4" data-for="INDUSTRY_IDENTIFICATION-office">We work in a factory, construction, or in the field</button>
                                        </div>
                                    </div>
                                </div><div><button class="btn-link c-kale-500 width-100 col-6 text-left lp-survey-back-link back" type="button">Back</button><button class="btn-link c-kale-500 width-100 col-6 text-right" type="button">Other</button></div>
                        </div>
                    </div>
                </div>


                <div class="text-left step" data-step="4" style="display:none;">

                    <h2 class="mb-2">Based on your response, Gusto could be a great fit for your business.</h2>
                    
                    <partial name="_ShowAlertMessage"></partial>
                    <div class="mt-5 width-100">
                        <div>
                            <form asp-action="ExternalLogin" asp-controller="Account" asp-route-provider="Google" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post">
                                <button type="submit" class="mb-0 d-flex align-items-center justify-content-center btn-action btn btn-light border btn-block">
                                    <img alt="Google Logo" class="img-square-20px"
                                         src="/img/partner-logo-google-cd0f2b38.svg"><strong class="pl-2">Sign up with @((await SignInManager.GetExternalAuthenticationSchemesAsync()).FirstOrDefault()?.Name)</strong>
                                </button>
                                <div class="pt-2 pb-2">
                                    <div class="google-signup-or text-center overflow-hidden"><span>or</span></div>
                                </div>
                            </form>
                        </div>
                        <form method="POST" class="my-login-validation" novalidate="">
                            <div class="form-group">
                                <input class="form-control fs-block" asp-for="FullName" placeholder="Full name" type="text" value="">
                                <span class="text-weight-normal text-danger" asp-validation-for="FullName"></span>
                            </div>
                            <div class="form-group">
                                <input asp-for="Email" class="form-control fs-block" placeholder="Work email address" type="email" value="">
                                <span class="text-weight-normal text-danger" asp-validation-for="Email"></span>
                            </div>
                            <div class="form-group">
                                <input asp-for="CompanyName" class="form-control fs-block" placeholder="Company name" type="text" value="">
                                <span class="text-weight-normal mb-0 text-danger" asp-validation-for="CompanyName"></span>
                            </div>
                            <div class="signup-form-reveal form-group">
                                @*<div class="row">
                                    <div class="col-12 padding-none d-sm-inline-flex">
                                        <div class="form-group col-12 col-sm-6 form-group padding-left-none padding-right-none padding-right-sm-10px">
                                            <input name="company_lead.number_employees" class="form-control fs-block  "
                                                   id="company_lead.number_employees" placeholder="No. of employees" type="number"
                                                   value="">
                                        </div>
                                        <div class="form-group col-12 col-sm-6 padding-none">
                                            <input name="company_lead.phone"
                                                   class="form-control fs-block  format-phone" id="company_lead.phone"
                                                   placeholder="Company phone" type="tel" value="" maxlength="14">
                                        </div>
                                    </div>
                                </div>*@
                                <div class="row">
                                <div class="col">
                                    <input asp-for="Password" class="form-control fs-block" placeholder="Set your password" type="password" value="">
                                </div>
                                <div class="col">
                                    <input asp-for="ConfirmPassword" class="form-control fs-block" placeholder="Re-enter password" type="password" value="">
                                </div>
                                </div>
                                <span class="text-weight-normal text-danger" asp-validation-for="Password"></span>
                            </div>
                            <button class="btn-action btn btn-primary mt-2 btn-block full-width lp-button-style" type="submit">
                                Get started
                            </button>
                        </form>
                        <div class="pt-3 text-center">
                            <div class="mb-3 lp-footer-signin">
                                Already use PayAll? <a asp-action="login"> Sign in here
                                </a>.
                            </div>
                            <div class="text-small c-black-900 lp-footer-text">
                                By creating an account, you agree to the <a asp-action="terms" target="_blank">terms &amp; conditions</a>, the <a asp-action="terms" asp-route-specific="payroll" target="_blank">payroll terms</a>, and our <a asp-action="privacy"target="_blank">privacy policy</a>.
                            </div>
                        </div>
                    </div>
                    <div id="homepage-signup-form-wrapper"></div>

                    <div class="mt-2">
                        <button class="btn-link c-kale-500 width-100 col-6 text-left lp-survey-back-link back" type="button">Back</button>
                        @* <button class="btn-link c-kale-500 width-100 col-6 text-right float-right" type="button">Other</button> *@
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section scripts{
    <partial name="_ValidationScriptsPartial" />
    <script>
        $(function () {
            var currStep = readCookie('welcome-steps1');
            console.log('current step: ' + currStep);

            var headerts =
                ["Nice! We could be a great fit for your business.",
                    "Lets pick up where we left off"];
            if (currStep != null) {
                $('.step[data-step="' + currStep + '"]').show();

                if (currStep == "4")
                    $('.step[data-step="' + currStep + '"]').find('h2').text(headerts[Math.floor(Math.random() * headerts.length)]);
            }
            else
                $('.step[data-step="1"]').show();
        });

        function _getCurrentStep(e) {
            var currStepDiv = $(e).parents('div.step');
            var currStep = $(currStepDiv).data('step');
            return parseInt(currStep);
        }

        $(".step .btn:not(.btn-action)").click(function (e) {
            var currStepDiv = $(this).parents('div.step');
            var currStep = $(currStepDiv).data('step');
            var nextStep = _getCurrentStep(this) + 1;

            console.log('next step is ' + nextStep);

            // hide old and show next
            console.log(currStepDiv, $('.step[data-step="' + nextStep + '"]'));
            $(currStepDiv).hide();
            $('.step[data-step="' + nextStep + '"]').show();
            createCookie('welcome-steps1', nextStep, 10);
        });

        $(".step .btn-link").click(function (e) {
            var currStepDiv = $(this).parents('div.step');
            var isBack = $(this).hasClass('back');
            var currStep = _getCurrentStep(this);

            $(currStepDiv).hide();
            if (isBack)
                $('.step[data-step="' + (currStep - 1) + '"]').show();
            else
                $('.step[data-step="' + (currStep + 1) + '"]').show();

        });
    </script>
}